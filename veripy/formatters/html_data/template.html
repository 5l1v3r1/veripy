<!doctype html>
<html lang="en-gb">
    <head>
        <title dir="ltr">${report.title} - veripy check report</title>
        
        <meta charset="utf-8"/>
        <link rel="shortcut icon" href="${asset_path}/favicon.ico" />
        <link rel="stylesheet" type="text/css" href="${asset_path}/veripy.css"/>

        <script type="text/javascript" src="${asset_path}/jquery.min.js"></script>
        <script type="text/javascript" src="${asset_path}/veripy.js"></script>
    </head>
    <body>
        <div id="wrapper">
            <h1>${report.title}</h1>

            <div id="configuration-box">
                <h2>Configuration</h2>
                <table id="configuration">
                    <tr><th>Profile</th><td>${report.klass}</td></tr>
                    <tr><th>Vendor</th><td>${report.vendor}</td></tr>
                    <tr><th>Device</th><td>${report.device}</td></tr>
                    <tr><th>Notes</th><td>${report.notes}</td></tr>
                </table>
            </div>
            <div id="summary-box">
                <div id="compliant" class="compliance ${report.is_compliant()}">${report.is_compliant() and "Compliant" or "Not Compliant"}</div>
            </div>

            <h2>Results</h2>
            <table id="results">
                <thead>
                    <tr>
                        <th scope="col" class="title">Test Case</th>
                        <th scope="col" class="compliance">Compliant</th>
                        <th scope="col" class="description"></th>
                        <th scope="col" class="results">Results</th>
                    </tr>
                </thead>
                <py-open code="for suite in report.results():"/>
                    <tbody>
                        <tr class="suite">
                            <th scope="rowgroup" class="title">${suite.test_suite.title()}</th>
                            <th scope="rowgroup" class="compliance ${suite.is_compliant() and "True" or "False"}">${suite.is_compliant() and "Compliant" or "Not Compliant"}</th>
                            <td class="description">${suite.test_suite.description()}</td>
                            <td></td>
                        </tr>
                        <py-open code="for result in suite.results():"/>
                            <tr class="case">
                                <th scope="row" class="title">
                                    ${result.test_case.title()}${result.test_case.is_optional() and "*" or ""}
                                    <p class="description">${result.test_case.description()}</p>
                                </th>
                                <td class="compliance ${result.is_compliant() and "True" or "False"}">${result.outcome.result_string()}</td>
                                <td class="message">${result.outcome.message}</td>
                                <td class="results">
                                    <a href="${asset_path}/${id(result)}/veripy.log" class="log-file ${len(result.outcome.log) == 0 and "disabled" or "enabled"}" title="Download the log file for this run. (.log, ${len(result.outcome.log)} bytes)"><img src="${asset_path}/${len(result.outcome.log) == 0 and "empty" or "log"}-file.png" alt="Log File"/></a>
                                    <py-open code="for (link, pcap) in result.outcome.network_dumps:"/>
                                        <py-open code="if len(pcap) > 0:"/>
                                            <a href="${asset_path}/${id(result)}/link-${link}.pcap" class="pcap enabled" title="Download the PCAP from Link ${link} for this run. (.pcap)"><img src="${asset_path}/pcap-file.png" alt="PCAP File"/></a>
                                        <py-close/>
                                        <py-open code="if len(pcap) == 0:"/>
                                            <a href="${asset_path}/${id(result)}/link-${link}.pcap" class="pcap disabled" title="No PCAP from Link ${link} for this run."><img src="${asset_path}/empty-file.png" alt="PCAP File"/></a>
                                        <py-close/>
                                    <py-close/>
                                </td>
                            </tr>
                        <py-close/>
                    </tbody>
                <py-close/>
            </table>
            
            <p>* indicates a test case that is stipulated as &ldquo;should&rdquo; rather than &ldquo;must&rdquo; in the specification.</p>
        </div>
        <div id="footer">
            <p id="generator">Generated by <a href="http://veripy.org/" title="veripy.org"><img src="${asset_path}/logo-mini.png" alt="veripy"/></a></p>
        </div>
    </body>
</html>
